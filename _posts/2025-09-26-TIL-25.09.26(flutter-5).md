---
title: "ğŸ“š Today I Learned 5íšŒì°¨ - [Flutter] U&I ì•±ìœ¼ë¡œ D-Day ê³„ì‚°í•˜ê¸° ğŸ’•"
date: 2025-09-26T00:00:00-00:00
categories:
  - TIL
  - Flutter
tags:
  - TIL
  - Flutter
  - StatefulWidget
  - Cupertino
  - D-Day
---

# ğŸ“– Flutter D-Day ì•± ê°œë°œ

## ğŸ¯ í•™ìŠµ ëª©í‘œ
- **StatefulWidget**ì„ ì´ìš©í•œ ìƒíƒœ ê´€ë¦¬ ìµíˆê¸°
- **setState** í•¨ìˆ˜ ì‚¬ìš©ë²• ì™„ì „ ì´í•´í•˜ê¸°
- **Cupertino** ë””ìì¸ ì‹œìŠ¤í…œ í™œìš©í•˜ê¸°
- **MediaQuery**ë¥¼ í†µí•œ ë°˜ì‘í˜• UI êµ¬í˜„í•˜ê¸°
- **ThemeData**ë¥¼ í™œìš©í•œ ì¼ê´€ëœ ë””ìì¸ ì‹œìŠ¤í…œ êµ¬ì¶•í•˜ê¸°

## ğŸ“š ì£¼ìš” ë‚´ìš©

### â­ í”„ë¡œì íŠ¸ ê°œìš”

**U&I ì•±**ì€ ì‚¬ê·€ê¸° ì‹œì‘í•œ ë‚ ì§œë¥¼ ì„ íƒí•˜ë©´ í˜„ì¬ê¹Œì§€ ë©°ì¹ ì´ ì§€ë‚¬ëŠ”ì§€ ê³„ì‚°í•´ì£¼ëŠ” D-Day ì•±ì…ë‹ˆë‹¤.

> ğŸ’¡ **í•µì‹¬ ê¸°ëŠ¥**: ë‚ ì§œ ì„ íƒ, D-Day ê³„ì‚°, iOS ìŠ¤íƒ€ì¼ UI êµ¬í˜„

**ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œ ì§‘ì¤‘í•  í•µì‹¬ ìš”ì†Œ:**
- `StatefulWidget`ì„ ì´ìš©í•œ **ìƒíƒœ ê´€ë¦¬**
- `setState` í•¨ìˆ˜ **ì‚¬ìš© ë°©ë²•**
- **Cupertino** (iOS ìŠ¤íƒ€ì¼) ë””ìì¸ ì‹œìŠ¤í…œ
  - FlutterëŠ” 2ê°€ì§€ ë””ìì¸ ì‹œìŠ¤í…œì„ ì§€ì›í•©ë‹ˆë‹¤
    - êµ¬ê¸€ì˜ **Material Design** (Android ìŠ¤íƒ€ì¼)
    - ì• í”Œì˜ **Cupertino Design** (iOS ìŠ¤íƒ€ì¼)

### âš¡ í•µì‹¬ ê°œë… 1: setState í•¨ìˆ˜

`State`ë¥¼ ìƒì†í•˜ëŠ” ëª¨ë“  í´ë˜ìŠ¤ëŠ” **setState** í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**setState í•¨ìˆ˜ ì‹¤í–‰ ê³¼ì •:**
1. **Clean ìƒíƒœ** - ë Œë”ë§ ì™„ë£Œ ìƒíƒœ
2. **setState()** - ìƒíƒœ ë³€ê²½ í•¨ìˆ˜ í˜¸ì¶œ
3. **Dirty ìƒíƒœ** - ì¬ë Œë”ë§ í•„ìš” ìƒíƒœ
4. **build()** - ìœ„ì ¯ ë‹¤ì‹œ ë¹Œë“œ
5. **Clean ìƒíƒœ** - ë Œë”ë§ ì™„ë£Œ

> ğŸ’¡ **ì¤‘ìš”**: StatefulWidgetì˜ ë Œë”ë§ì´ ëë‚˜ë©´ Clean ìƒíƒœê°€ ë©ë‹ˆë‹¤. ìƒíƒœë¥¼ ë³€ê²½í•˜ë ¤ë©´ ë°˜ë“œì‹œ setState í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤!

setStateëŠ” **ì½œë°± í•¨ìˆ˜**ë¥¼ ë°›ìœ¼ë©°, ì´ ì½œë°± í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ìƒíƒœ ë³€ê²½ ì‘ì—…ì„ ì§„í–‰í•©ë‹ˆë‹¤.

### âš¡ í•µì‹¬ ê°œë… 2: showCupertinoDialog

**iOS ìŠ¤íƒ€ì¼ì˜ ë‹¤ì´ì–¼ë¡œê·¸**ë¥¼ ì‹¤í–‰í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.

```dart
showCupertinoDialog(
  context: context,// BuildContext ì…ë ¥
  barrierDismissible: true, // ì™¸ë¶€ íƒ­í•´ì„œ ë‹¤ì´ì–¼ë¡œê·¸ ë‹«ì„ ìˆ˜ ìˆê²Œ í•˜ê¸°
  builder: (BuildContext context) { // ë‹¤ì´ì–¼ë¡œê·¸ì— ë“¤ì–´ê°ˆ ìœ„ì ¯
    return Text('Dialog');
  }
);
```

## ğŸ’» ì‹¤ìŠµ ë° ì˜ˆì œ

### ğŸ”§ ì‚¬ì „ ì¤€ë¹„: í°íŠ¸ ë“±ë¡

**í°íŠ¸ ë“±ë¡**ì„ ìœ„í•´ `pubspec.yaml` íŒŒì¼ì„ ìˆ˜ì •í•©ë‹ˆë‹¤:

```yaml
fonts:
  - family: parisienne # family í‚¤ì— í°íŠ¸ ì´ë¦„ì„ ì§€ì •
    fonts:
      - asset: asset/font/Parisienne-Regular.ttf # ë“±ë¡í•  í°íŠ¸ì˜ ìœ„ì¹˜
  - family: sunflower
    fonts:
      - asset: asset/font/Sunflower-Light.ttf
      - asset: asset/font/Sunflower-Medium.ttf
        weight: 500 # í°íŠ¸ì˜ ë‘ê»˜. FontWeight í´ë˜ìŠ¤ì˜ ê°’ê³¼ ê°™ë‹¤.
      - asset: asset/font/Sunflower-Bold.ttf
        weight: 700
```

> ğŸ’¡ **íŒ**: WeightëŠ” í°íŠ¸ì˜ ë‘ê»˜ë³„ë¡œ íŒŒì¼ì´ ë”°ë¡œ ì œê³µë˜ê¸° ë•Œë¬¸ì— ê°™ì€ í°íŠ¸ë¼ë„ ë‹¤ë¥¸ ë‘ê»˜ë¥¼ í‘œí˜„í•˜ëŠ” íŒŒì¼ì€ `weight` ê°’ì„ ë”°ë¡œ ì§€ì •í•´ì•¼ í•©ë‹ˆë‹¤. ì´í›„ Flutterì—ì„œ `FontWeight` í´ë˜ìŠ¤ì˜ ê°’ê³¼ ë§¤ì¹­ë©ë‹ˆë‹¤ (ì˜ˆ: `FontWeight.w500`)

### ğŸ¨ ë ˆì´ì•„ì›ƒ êµ¬ìƒí•˜ê¸°

**MediaQuery.of(context)**ë¥¼ ì‚¬ìš©í•˜ë©´ í™”ë©´ í¬ê¸°ì™€ ê´€ë ¨ëœ ê°ì¢… ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
- `size` ê²Œí„°ë¡œ í™”ë©´ ì „ì²´ì˜ **ë„ˆë¹„ì™€ ë†’ì´**ë¥¼ ì‰½ê²Œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŒ
- í™”ë©´ ì „ì²´ ë†’ì´ë¥¼ 2ë¡œ ë‚˜ëˆ ì„œ í™”ë©´ ë†’ì´ì˜ **ì ˆë°˜ë§Œí¼ ì´ë¯¸ì§€ê°€ ì°¨ì§€**í•˜ë„ë¡ ì„¤ì •

#### ğŸ¤” .of(context) ìƒì„±ìë€?

`.of(context)` ìƒì„±ìëŠ” ì´ˆë³´ìë“¤ì´ ë§ì´ í—·ê°ˆë ¤í•˜ëŠ” ê°œë…ì…ë‹ˆë‹¤.

**í•µì‹¬ ì›ë¦¬:**
- `of(context)`ë¡œ ì •ì˜ëœ ëª¨ë“  ìƒì„±ìëŠ” `BuildContext`ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ìŒ
- **ìœ„ì ¯ íŠ¸ë¦¬ì—ì„œ ê°€ì¥ ê°€ê¹Œì´ì— ìˆëŠ” ê°ì²´ì˜ ê°’**ì„ ì°¾ì•„ëƒ„

**ë™ì‘ ë°©ì‹:**
1. `MediaQuery.of(context)` â†’ í˜„ì¬ ìœ„ì ¯ íŠ¸ë¦¬ì—ì„œ ê°€ì¥ ê°€ê¹Œìš´ `MediaQuery` ê°’ì„ ì°¾ìŒ
2. ì•± ì‹¤í–‰ ì‹œ `MaterialApp`ì´ ë¹Œë“œë˜ë©´ì„œ `MediaQuery`ë„ í•¨ê»˜ ìƒì„±
3. ìœ„ì ¯ íŠ¸ë¦¬ ì•„ë˜ì—ì„œ í˜¸ì¶œí•˜ë©´ **ìœ„ë¡œ ì˜¬ë¼ê°€ë©°** ê°€ì¥ ê°€ê¹Œìš´ MediaQuery ê°’ì„ ê°€ì ¸ì˜´

> ğŸ’¡ **ë¹„ìŠ·í•œ ì˜ˆì‹œ**: `Theme.of(context)`, `Navigator.of(context)` ë“±

#### ğŸ¨ í…Œë§ˆ(Theme) ì‹œìŠ¤í…œ

`Text` ìœ„ì ¯ì˜ ê¸°ë³¸ ìŠ¤íƒ€ì¼ì„ ë³€ê²½í•˜ê³  ì‹¶ì„ ë•ŒëŠ” **í…Œë§ˆ**ë¥¼ ì‚¬ìš©í•˜ë©´ í¸ë¦¬í•©ë‹ˆë‹¤!

**í…Œë§ˆì˜ ì¥ì :**
- 13ê°€ì§€ Text ìŠ¤íƒ€ì¼ì„ ë¯¸ë¦¬ ì •ì˜í•˜ì—¬ **í”„ë¡œì íŠ¸ ì „ì²´ì—ì„œ ì¬ì‚¬ìš©** ê°€ëŠ¥
- ì¼ê´€ëœ ë””ìì¸ ì‹œìŠ¤í…œ êµ¬ì¶•

**ì£¼ìš” êµ¬ì„± ìš”ì†Œ:**
- **ThemeData**: `MaterialApp`ì˜ `theme` ë§¤ê°œë³€ìˆ˜ë¡œ, Flutterê°€ ê¸°ë³¸ ì œê³µí•˜ëŠ” ëŒ€ë¶€ë¶„ ìœ„ì ¯ì˜ **ê¸°ë³¸ ìŠ¤íƒ€ì¼ ì§€ì •**
- **TextTheme**: **ê¸€ì í…Œë§ˆ**ë¥¼ ì •í•  ìˆ˜ ìˆëŠ” ë§¤ê°œë³€ìˆ˜

**ì£¼ìš” ThemeData ë§¤ê°œë³€ìˆ˜:**

| **ë§¤ê°œë³€ìˆ˜** | **ì„¤ëª…** |
|:---:|:---|
| **fontFamily** | ì•± ì „ì²´ ê¸°ë³¸ í°íŠ¸ ì„¤ì • |
| **textTheme** | í…ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ í…Œë§ˆ ì •ì˜ |
| **tabBarTheme** | íƒ­ë°” ìŠ¤íƒ€ì¼ í…Œë§ˆ |
| **cardTheme** | ì¹´ë“œ ìœ„ì ¯ í…Œë§ˆ |
| **appBarTheme** | ì•±ë°” í…Œë§ˆ ì„¤ì • |
| **floatingActionButtonTheme** | FAB í…Œë§ˆ |
| **elevatedButtonTheme** | ìŠ¹ê²© ë²„íŠ¼ í…Œë§ˆ |
| **checkboxTheme** | ì²´í¬ë°•ìŠ¤ í…Œë§ˆ |

> ğŸ’¡ **íŒ¨í„´**: ìœ„ì ¯ ì´ë¦„ + Theme ê·œì¹™ì„ ì´ìš©í•´ì„œ íŠ¹ì • ìœ„ì ¯ì˜ í…Œë§ˆë¥¼ ì‰½ê²Œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ” ì‹¬í™” í•™ìŠµ

### ğŸš¨ ë‹¤ì–‘í•œ í™”ë©´ ë¹„ìœ¨ê³¼ í•´ìƒë„ì— ë”°ë¥¸ ì˜¤ë²„í”Œë¡œ í•´ê²°í•˜ê¸°

**ë¬¸ì œ ìƒí™©:**
- í•¸ë“œí°ë§ˆë‹¤ í™”ë©´ì˜ **ë¹„ìœ¨ê³¼ í•´ìƒë„**ê°€ ëª¨ë‘ ë‹¤ë¦„
- í•˜ë‚˜ì˜ í™”ë©´ ê¸°ì¤€ìœ¼ë¡œ UIë¥¼ ì‘ì—…í•˜ë©´ ë‹¤ë¥¸ í¬ê¸° í•¸ë“œí°ì—ì„œ **ë ˆì´ì•„ì›ƒì´ ê¹¨ì§ˆ ìˆ˜ ìˆìŒ**

**êµ¬ì²´ì ì¸ ì˜ˆì‹œ:**
- í•¸ë“œí° í¬ê¸°ê°€ ì‘ì•„ì„œ ìƒë‹¨ ê¸€ìë“¤ì´ í™”ë©´ì˜ ì ˆë°˜ ì´ìƒì„ ì°¨ì§€
- ì•„ë˜ìª½ ì´ë¯¸ì§€ê°€ ë‚¨ì€ ê³µê°„ë³´ë‹¤ ë” ë§ì€ ë†’ì´ë¥¼ ìš”êµ¬
- ë‚¨ì€ ê³µê°„ì´ ë¶€ì¡±í•œë° ì´ë¯¸ì§€ í¬ê¸°ë¥¼ í™”ë©´ì˜ ì ˆë°˜ìœ¼ë¡œ ê³ ì •í–ˆê¸° ë•Œë¬¸

<span style="color: #ff6b6b;">ğŸš¨ Flutterì—ì„œëŠ” ì´ë¥¼ **ì˜¤ë²„í”Œë¡œ(Overflow)**ë¼ê³  í•©ë‹ˆë‹¤</span>

**í•´ê²° ë°©ë²•:**
1. ê¸€ìë‚˜ ì´ë¯¸ì§€ì˜ í¬ê¸°ë¥¼ **ë™ì ìœ¼ë¡œ ì¡°ì ˆ**
2. ì´ë¯¸ì§€ê°€ **ë‚¨ì€ ê³µê°„ë§Œí¼ë§Œ ì°¨ì§€**í•˜ë„ë¡ êµ¬í˜„ â­

> ğŸ’¡ **ê¶Œì¥ ë°©ë²•**: ì´ë¯¸ì§€ê°€ ë‚¨ì€ ê³µê°„ë§Œí¼ ì°¨ì§€í•˜ë„ë¡ `Expanded` ìœ„ì ¯ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì…ë‹ˆë‹¤.

#### ğŸ¤” ì¶”ê°€ ê°œë…ë“¤

**GestureTapCallback:**
- Material íŒ¨í‚¤ì§€ì—ì„œ ê¸°ë³¸ ì œê³µí•˜ëŠ” **Typedef**
- ë²„íŠ¼ì˜ `onPressed` ë˜ëŠ” `onTap` ì½œë°± í•¨ìˆ˜ë“¤ì´ `GestureTapCallback` íƒ€ì…ìœ¼ë¡œ ì •ì˜ë¨

**Align ìœ„ì ¯:**
- **ìì‹ ìœ„ì ¯ì˜ ìœ„ì¹˜**ë¥¼ ì •í•  ìˆ˜ ìˆëŠ” ìœ„ì ¯
- ì˜ˆì‹œ: `Alignment.bottomCenter` â†’ ì•„ë˜ ì¤‘ê°„ìœ¼ë¡œ ì •ë ¬

**ë‹¤ì´ì–¼ë¡œê·¸ ì˜µì…˜:**
- `barrierDismissible: true` â†’ ì™¸ë¶€ íƒ­í•  ê²½ìš° ë‹¤ì´ì–¼ë¡œê·¸ ë‹«ê¸°

**Alignmentì˜ ì •ë ¬ ê°’:**

| **ì†ì„±** | **ìœ„ì¹˜** |
|:---|:---|
| `Alignment.topRight` | ìœ„ ì˜¤ë¥¸ìª½ |
| `Alignment.topCenter` | ìœ„ ì¤‘ì•™ |
| `Alignment.topLeft` | ìœ„ ì™¼ìª½ |
| `Alignment.centerRight` | ì¤‘ì•™ ì˜¤ë¥¸ìª½ |
| `Alignment.center` | ì¤‘ì•™ |
| `Alignment.centerLeft` | ì¤‘ì•™ ì™¼ìª½ |
| `Alignment.bottomRight` | ì•„ë˜ ì˜¤ë¥¸ìª½ |
| `Alignment.bottomCenter` | ì•„ë˜ ì¤‘ì•™ |
| `Alignment.bottomLeft` | ì•„ë˜ ì™¼ìª½ |

### ğŸ’» ì™„ì„±ëœ ì†ŒìŠ¤ ì½”ë“œ

**main.dart - ì•±ì˜ ì§„ì…ì ê³¼ í…Œë§ˆ ì„¤ì •:**

```dart
import 'package:flutter/material.dart';
import 'package:u_and_i/screen/home_screen.dart';

void main() {
  runApp(
    MaterialApp(
      theme: ThemeData(
        // í…Œë§ˆë¥¼ ì§€ì •í•  ìˆ˜ ìˆëŠ” í´ë˜ìŠ¤
        fontFamily: 'sunflower', // ê¸°ë³¸ ê¸€ì”¨ì²´
        textTheme: TextTheme(
          // ê¸€ì í…Œë§ˆë¥¼ ì ìš©í•  ìˆ˜ ìˆëŠ” í´ë˜ìŠ¤
          displayLarge: TextStyle(
            // headline1 ìŠ¤íƒ€ì¼ ì •ì˜
            color: Colors.white, // ê¸€ ìƒ‰ìƒ
            fontSize: 80.0, // ê¸€ í¬ê¸°
            fontWeight: FontWeight.w700, // ê¸€ ë‘ê»˜
            fontFamily: 'parisienne', // ê¸€ì”¨ì²´
          ),
          displayMedium: TextStyle(
            color: Colors.white,
            fontSize: 50.0,
            fontWeight: FontWeight.w700,
          ),
          bodyLarge: TextStyle(color: Colors.white, fontSize: 30.0),
          bodyMedium: TextStyle(color: Colors.white, fontSize: 20.0),
        ),
      ),
      home: HomeScreen(),
    ),
  );
}
```

**home_screen.dart - ë©”ì¸ í™”ë©´ê³¼ ìƒíƒœ ê´€ë¦¬:**

```dart
import 'package:flutter/cupertino.dart';
import 'package:flutter/material.dart';

class HomeScreen extends StatefulWidget {
  const HomeScreen({super.key});

  @override
  State<HomeScreen> createState() => _HomeScreenState();
}

class _HomeScreenState extends State<HomeScreen> {
  DateTime firstDay = DateTime.now();

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      backgroundColor: Colors.pink[100],
      body: SafeArea(
        top: true,
        bottom: false,
        child: Column(
          mainAxisAlignment: MainAxisAlignment.spaceBetween, // ìœ„ ì•„ë˜ ëì— ìœ„ì ¯ ë°°ì¹˜
          crossAxisAlignment: CrossAxisAlignment.stretch, // ë°˜ëŒ€ì¶• ìµœëŒ€ í¬ê¸°ë¡œ ëŠ˜ë¦¬ê¸°
          children: [
            _DDay(onHeartPressed: onHeartPressed, firstDay: firstDay),
            _CoupleImage(),
          ],
        ),
      ),
    );
  }

  void onHeartPressed() {
    showCupertinoDialog(
      context: context,
      builder: (BuildContext context) {
        return Align(
          alignment: Alignment.bottomCenter,
          child: Container(
            color: Colors.white,
            height: 300,
            child: CupertinoDatePicker(
              mode: CupertinoDatePickerMode.date,
              onDateTimeChanged: (DateTime date) {
                setState(() {
                  firstDay = date;
                });
              },
            ),
          ),
        );
      },
      barrierDismissible: true, // ì™¸ë¶€ íƒ­í•  ê²½ìš° ë‹¤ì´ì–¼ë¡œê·¸ ë‹«ê¸°
    );
  }
}

class _DDay extends StatelessWidget {
  final GestureTapCallback onHeartPressed;
  final DateTime firstDay;

  _DDay({required this.onHeartPressed, required this.firstDay});

  @override
  Widget build(BuildContext context) {
    final textTheme = Theme.of(context).textTheme;
    final now = DateTime.now();
    return Column(
      children: [
        const SizedBox(height: 16.0),
        Text('U&I', style: textTheme.displayLarge),
        const SizedBox(height: 16.0),
        Text('ìš°ë¦¬ ì²˜ìŒ ë§Œë‚œ ë‚ ', style: textTheme.bodyLarge),
        Text(
          '${firstDay.year}.${firstDay.month}.${firstDay.day}',
          style: textTheme.bodyMedium,
        ),
        const SizedBox(height: 16.0),
        IconButton(
          iconSize: 60,
          onPressed: onHeartPressed,
          icon: Icon(Icons.favorite, color: Colors.red),
        ),
        const SizedBox(height: 16.0),
        Text(
          'D+${DateTime(now.year, now.month, now.day).difference(firstDay).inDays + 1}',
          style: textTheme.displayMedium,
        ),
      ],
    );
  }
}

class _CoupleImage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Expanded(
      child: Center(
        child: Image.asset(
          'asset/img/middle_image.png',
          // í™”ë©´ì˜ ì ˆë°˜ë§Œí¼ ë†’ì´ êµ¬í˜„
          height: MediaQuery.of(context).size.height / 2,
        ),
      ),
    );
  }
}
```

## ğŸ“ ë§ˆë¬´ë¦¬

### âœ… ì˜¤ëŠ˜ ë°°ìš´ ê²ƒ
- **StatefulWidgetê³¼ setState**: Flutterì—ì„œ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” í•µì‹¬ ê°œë…
- **Cupertino ë””ìì¸**: iOS ìŠ¤íƒ€ì¼ UI ì»´í¬ë„ŒíŠ¸ í™œìš©ë²•
- **MediaQuery**: í™”ë©´ í¬ê¸°ì— ë”°ë¥¸ ë°˜ì‘í˜• UI êµ¬í˜„
- **ThemeData**: ì¼ê´€ëœ ë””ìì¸ ì‹œìŠ¤í…œ êµ¬ì¶• ë°©ë²•
- **ì˜¤ë²„í”Œë¡œ í•´ê²°**: Expanded ìœ„ì ¯ì„ í†µí•œ ìœ ì—°í•œ ë ˆì´ì•„ì›ƒ