---
title: "ğŸ“š Today I Learned 12íšŒì°¨ - Flutter ë””ì§€í„¸ ì£¼ì‚¬ìœ„ ì•± ë§Œë“¤ê¸° ğŸ²"
date: 2025-09-29T00:00:00-00:00
categories:
  - TIL
  - Flutter
tags:
  - TIL
  - Flutter
  - TabController
  - TickerProviderStateMixin
  - ì„¼ì„œ
  - ì•± ê°œë°œ
---

# ğŸ“– Flutter ë””ì§€í„¸ ì£¼ì‚¬ìœ„ ì•± ë§Œë“¤ê¸°

## ğŸ¯ í•™ìŠµ ëª©í‘œ
- **ë””ì§€í„¸ ì£¼ì‚¬ìœ„ ì•±** ë§Œë“¤ê¸°
- **TabControllerì™€ TickerProviderStateMixin** í™œìš©ë²• ìµíˆê¸°
- **ê°€ì†ë„ê³„ì™€ ìì´ë¡œìŠ¤ì½”í”„** ì›ë¦¬ ì´í•´í•˜ê¸°
- **íšë“¤ë¦¼ ê°ì§€ ê¸°ëŠ¥** êµ¬í˜„í•˜ê¸°

## ğŸ“š ì£¼ìš” ë‚´ìš©

### â­ í”„ë¡œì íŠ¸ êµ¬ì„± ìš”êµ¬ì‚¬í•­

* ê°€ì†ë„ê³„ëŠ” ê°€ì†ë„ë¥¼ ì¸¡ì •í•˜ê¸° ë•Œë¬¸ì— ì–´ëŠ ì •ë„ì˜ ê°€ì† ìˆ˜ì¹˜ë¥¼ í”ë“œëŠ” í–‰ë™ìœ¼ë¡œ ì¸ì‹í• ì§€ì— ëŒ€í•œ ê¸°ì¤€ì´ ì¤‘ìš”
* ì‚¬ìš©ìê°€ íŠ¹ì • ìˆ˜ì¹˜ë¥¼ ë„˜ëŠ” ê°•ë„ë¡œ í•¸ë“œí°ì„ í”ë“  ìˆœê°„ì„ ì¸ì‹í•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ë¥¼ êµ¬í˜„
* ê·¸ ê¸°ì¤€ì„ Slider ìœ„ì ¯ì„ í†µí•´ ì„¤ì •
* í™”ë©´ 2ê°œë¥¼ ë§Œë“¤ì–´ íƒ­ê³¼ ìŠ¤í¬ë¡¤ë¡œ ì´ë™(ë‘ í™”ë©´ì„ ê°ê° ë”°ë¡œ ìœ„ì ¯ìœ¼ë¡œ êµ¬í˜„í•˜ê³  BottomNavigationBarë¥¼ ì´ìš©)

### ğŸ’ª ì‚¬ì „ ì§€ì‹

#### **ê°€ì†ë„ê³„**
ê°€ì†ë„ê³„ë¥¼ ì‚¬ìš©í•˜ë©´ x,y,z ì¶•ì˜ ì¸¡ì • ê²°ê³¼ë¥¼ ëª¨ë‘ double ê°’ìœ¼ë¡œ ë°˜í™˜

#### **ìì´ë¡œìŠ¤ì½”í”„**

ê°€ì†ë„ê³„ëŠ” x,y,z ì¶•ì˜ ì§ì„  ì›€ì§ì„ë§Œ ì¸¡ì •í•  ìˆ˜ ìˆë‹¤. ìì´ë¡œìŠ¤ì½”í”„ëŠ” ì´ ë‹¨ì ì„ ë³´ì™„í•´ì„œ x,u,z ì¶•ì˜ íšŒì „ì„ ì¸¡ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

x: ì¢Œìš°ë¡œ íšŒì „í•˜ëŠ” ë°©í–¥
y: ìœ„ì•„ë˜ë¡œ íšŒì „í•˜ëŠ” ë°©í–¥
z: ì•ë’¤ë¡œ íšŒì „í•˜ëŠ” ë°©í–¥

### âš¡ í•µì‹¬ êµ¬í˜„ ì§€ì‹

* TabControllerì—ì„œ vsync ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë ¤ë©´ í•„ìˆ˜ë¡œ TickerProviderStateMixinì„ ì‚¬ìš©í•´ì•¼í•©ë‹ˆë‹¤.
* TickerProviderStateMixinê³¼ SingleTickerProviderMixinì€ ì• ë‹ˆë©”ì´ì…˜ì˜ íš¨ìœ¨ì„ ì˜¬ë ¤ì£¼ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.
* vsyncëŠ” TickerProviderStateMixinì„ ì‚¬ìš©í•˜ëŠ” state í´ë˜ìŠ¤ë¥¼ this í˜•íƒœë¡œ ë„£ì–´ì£¼ë©´ ë©ë‹ˆë‹¤.
* ê·¸ëŸ¬ë©´ controllerë¥¼ ì´ìš©í•´ì„œ TabBarViewë¥¼ ì¡°ì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### **TickerProviderStateMixin ì‹¬í™” ì´í•´**

> ğŸ’¡ **í•µì‹¬**: TickerProviderStateMixinì€ **"ì• ë‹ˆë©”ì´ì…˜ì„ ìœ„í•œ ì‹¬ì¥ ë°•ë™ê¸°"**ë¼ê³  ìƒê°í•˜ë©´ ì´í•´í•˜ê¸° ì‰½ìŠµë‹ˆë‹¤.

**ğŸ“± Ticker: ì• ë‹ˆë©”ì´ì…˜ì˜ ì‹¬ì¥ ë°•ë™**

ì• ë‹ˆë©”ì´ì…˜ì€ ë³¸ì§ˆì ìœ¼ë¡œ ì•„ì£¼ ì§§ì€ ì‹œê°„ ë™ì•ˆ í™”ë©´ì„ ê³„ì†í•´ì„œ ë‹¤ì‹œ ê·¸ë¦¬ëŠ” ì‘ì—…ì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, 1ì´ˆ ë™ì•ˆ ì–´ë–¤ ìœ„ì ¯ì´ ì ì  ì»¤ì§€ëŠ” ì• ë‹ˆë©”ì´ì…˜ì€ ì‚¬ì‹¤ 1ì´ˆ ë™ì•ˆ ì•½ 60ë²ˆ(60fps ê¸°ì¤€)ì— ê±¸ì³ ìœ„ì ¯ì˜ í¬ê¸°ë¥¼ ë¯¸ì„¸í•˜ê²Œ í‚¤ìš°ë©´ì„œ í™”ë©´ì„ ìƒˆë¡œê³ ì¹¨í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

ì´ë•Œ, **"ì§€ê¸ˆ ë‹¤ì‹œ ê·¸ë ¤!", "ë˜ ë‹¤ì‹œ ê·¸ë ¤!"**ì™€ ê°™ì´ ì¼ì •í•œ ê°„ê²©ìœ¼ë¡œ ì‹ í˜¸ë¥¼ ë³´ë‚´ì£¼ëŠ” ì—­í• ì„ í•˜ëŠ” ê²ƒì´ ë°”ë¡œ `Ticker`ì…ë‹ˆë‹¤.

**ğŸ” TickerProviderStateMixin ì´ë¦„ ë¶„ì„**

| **êµ¬ì„± ìš”ì†Œ** | **ì—­í• ** | **ì„¤ëª…** |
|:---:|:---|:---|
| **Ticker** | ì‹¬ì¥ ë°•ë™ | ì• ë‹ˆë©”ì´ì…˜ í”„ë ˆì„ë§ˆë‹¤ ì‹ í˜¸ë¥¼ ì£¼ëŠ” ì‹¬ì¥ ë°•ë™ |
| **Provider** | ì œê³µì | Tickerë¥¼ AnimationControllerì—ê²Œ ì œê³µí•˜ëŠ” ì—­í•  |
| **State** | ìƒíƒœ ê´€ë¦¬ | StatefulWidgetì˜ ìƒëª…ì£¼ê¸°ì™€ ì• ë‹ˆë©”ì´ì…˜ ë™ê¸°í™” |
| **Mixin** | ê¸°ëŠ¥ ì¶”ê°€ | `with` í‚¤ì›Œë“œë¡œ State í´ë˜ìŠ¤ì— ê¸°ëŠ¥ ì¥ì°© |

**âš¡ íš¨ìœ¨ì„±ì˜ í•µì‹¬: vsync**

- **ë¬¸ì œ ìƒí™©**: Tickerê°€ í™”ë©´ ìƒíƒœì™€ ìƒê´€ì—†ì´ ê³„ì† ì‹ í˜¸ë¥¼ ë³´ë‚´ë©´ CPUì™€ ë°°í„°ë¦¬ ë‚­ë¹„ ğŸ”‹
- **í•´ê²°ì±…**: `vsync`(Vertical Synchronization)ë¥¼ í†µí•´ í™”ë©´ ì£¼ì‚¬ìœ¨ì— ë§ì¶° ë™ê¸°í™”
- **íš¨ê³¼**: í™”ë©´ì´ ë³´ì¼ ë•Œë§Œ ì‘ë™í•˜ê³ , ë°±ê·¸ë¼ìš´ë“œ ì „í™˜ ì‹œ ìë™ìœ¼ë¡œ ë©ˆì¶¤

* initStateì—ì„œ TabControllerì˜ Listenerë¥¼ ë“±ë¡í•´ì„œ controllerì˜ ì†ì„±ì´ ë³€ê²½ë  ë•Œ ë§ˆë‹¤ setStateë¥¼ ì‹¤í–‰í•´ì„œ í™”ë©´ì„ ë‹¤ì‹œ ê·¸ë¦´ ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.


## ğŸ’» ì‹¤ìŠµ ë° ì˜ˆì œ

### ğŸ”§ ì‹¤ì œ ì‘ì„± ì½”ë“œ

```dart
import 'package:flutter/material.dart';
import 'package:random_dice/const/colors.dart';
import 'package:random_dice/screen/home_screen.dart';
import 'package:random_dice/screen/root_screen.dart';

void main() {
  runApp(
    MaterialApp(
      theme: ThemeData(
        scaffoldBackgroundColor: backgroundColor,
        sliderTheme: SliderThemeData(
          thumbColor: primaryColor,
          activeTickMarkColor: primaryColor,
          inactiveTickMarkColor: primaryColor.withOpacity(0.3),
        ),
        bottomNavigationBarTheme: BottomNavigationBarThemeData(
          selectedItemColor: primaryColor,
          unselectedItemColor: secondaryColor,
          backgroundColor: backgroundColor,
        ),
      ),
      home: RootScreen(),
    ),
  );
}

```

```dart
import 'dart:math';

import 'package:flutter/material.dart';
import 'package:random_dice/screen/home_screen.dart';
import 'package:random_dice/screen/settings_screen.dart';
import 'package:shake/shake.dart';

class RootScreen extends StatefulWidget {
  const RootScreen({super.key});

  @override
  State<RootScreen> createState() => _RootScreenState();
}

class _RootScreenState extends State<RootScreen> with TickerProviderStateMixin {
  TabController? controller;
  double threshold = 2.7;
  int number = 1;
  ShakeDetector? shakeDetector;

  @override
  void initState() {
    super.initState();
    controller = TabController(length: 2, vsync: this);
    controller!.addListener(tabListener);

    shakeDetector = ShakeDetector.autoStart(
      // í”ë“¤ë¦¼ ê°ì§€ ì‹œì‘
      shakeSlopTimeMS: 100, // ê°ì§€ ì£¼ê¸°
      shakeThresholdGravity: threshold,
      onPhoneShake: onPhoneShake,
    );
  }

  void onPhoneShake() {
    final rand = Random();
    setState(() {
      number = rand.nextInt(5) + 1;
    });
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: TabBarView(controller: controller, children: renderChildren()),
      bottomNavigationBar: renderBottomNavigation(),
    );
  }

  @override
  void dispose() {
    controller!.removeListener(tabListener);
    shakeDetector!.stopListening();
    super.dispose();
  }

  void tabListener() {
    setState(() {});
  }

  void onThresholdChange(double value) {
    setState(() {
      threshold = value;
    });
  }

  List<Widget> renderChildren() {
    return [
      HomeScreen(number: number),
      SettingsScreen(
        threshold: threshold,
        onThresholdChange: onThresholdChange,
      ),
    ];
  }

  BottomNavigationBar renderBottomNavigation() {
    return BottomNavigationBar(
      currentIndex: controller!.index,
      onTap: (index) {
        setState(() {
          controller!.animateTo(index);
        });
      },
      items: [
        BottomNavigationBarItem(
          icon: Icon(Icons.edgesensor_high_outlined),
          label: 'ì£¼ì‚¬ìœ„',
        ),
        BottomNavigationBarItem(icon: Icon(Icons.settings), label: 'ì„¤ì •'),
      ],
    );
  }
}

```

```dart
import 'package:flutter/material.dart';
import 'package:random_dice/const/colors.dart';

class HomeScreen extends StatelessWidget {
  final int number;

  const HomeScreen({super.key, required this.number});

  @override
  Widget build(BuildContext context) {
    return Column(
      mainAxisAlignment: MainAxisAlignment.center,
      children: [
        Center(child: Image.asset('asset/img/$number.png')),
        SizedBox(height: 32),
        Text(
          'í–‰ìš´ì˜ ìˆ«ì',
          style: TextStyle(
            color: secondaryColor,
            fontSize: 20.0,
            fontWeight: FontWeight.w700,
          ),
        ),
        SizedBox(height: 12.0),
        Text(
          number.toString(),
          style: TextStyle(
            color: primaryColor,
            fontSize: 60.0,
            fontWeight: FontWeight.w200,
          ),
        ),
      ],
    );
  }
}

```


### ğŸ“± êµ¬í˜„ ê²°ê³¼

<div align="center">
  <img src="../assets/images/TIL/2025-09-29-(1).png" width="500" alt="ì£¼ì‚¬ìœ„ í™”ë©´">
  <p><em>ë©”ì¸ ì£¼ì‚¬ìœ„ í™”ë©´</em></p>
</div>

<div align="center">
  <img src="../assets/images/TIL/2025-09-29-(2).png" width="500" alt="ì„¤ì • í™”ë©´">
  <p><em>í”ë“¤ë¦¼ ê°ë„ ì„¤ì • í™”ë©´</em></p>
</div>

## ğŸ“ ë§ˆë¬´ë¦¬

### âœ… ì˜¤ëŠ˜ ë°°ìš´ ê²ƒ
- **TabControllerì™€ TickerProviderStateMixin**: íƒ­ ë„¤ë¹„ê²Œì´ì…˜ê³¼ ì• ë‹ˆë©”ì´ì…˜ íš¨ìœ¨ì„± ê´€ë¦¬
- **ê°€ì†ë„ê³„ì™€ ìì´ë¡œìŠ¤ì½”í”„**: ì„¼ì„œ ë°ì´í„°ë¥¼ í™œìš©í•œ í”ë“¤ë¦¼ ê°ì§€ ì›ë¦¬
- **ShakeDetector**: í”ë“¤ë¦¼ ê°ì§€ ë¼ì´ë¸ŒëŸ¬ë¦¬ í™œìš©ë²•
- **Bottom Navigation**: íƒ­ ë°”ë¥¼ í†µí•œ í™”ë©´ ì „í™˜ êµ¬í˜„
- **Slider Widget**: ì‚¬ìš©ì ì„¤ì •ê°’ ì¡°ì • UI êµ¬í˜„
- **ìƒíƒœ ê´€ë¦¬**: ì—¬ëŸ¬ í™”ë©´ ê°„ ë°ì´í„° ê³µìœ  ë° ìƒíƒœ ë™ê¸°í™”

### ğŸš€ ë‹¤ìŒ ê³„íš
- **ê³ ê¸‰ ì„¼ì„œ í™œìš©**: ë” ì •êµí•œ ì œìŠ¤ì²˜ ì¸ì‹ ê¸°ëŠ¥ ì¶”ê°€
- **ì• ë‹ˆë©”ì´ì…˜ ê°•í™”**: ì£¼ì‚¬ìœ„ êµ´ë¦¬ê¸° ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ êµ¬í˜„
- **ì‚¬ìš©ì ê²½í—˜ ê°œì„ **: í–…í‹± í”¼ë“œë°±ê³¼ ì‚¬ìš´ë“œ íš¨ê³¼ ì¶”ê°€
- **ë°ì´í„° ì €ì¥**: SharedPreferencesë¥¼ í™œìš©í•œ ì„¤ì •ê°’ ì˜êµ¬ ì €ì¥

> ğŸ’¡ **í•µì‹¬**: Flutterì—ì„œ ì„¼ì„œì™€ íƒ­ ë„¤ë¹„ê²Œì´ì…˜ì„ ê²°í•©í•˜ì—¬ ì‹¤ìš©ì ì¸ ì•±ì„ ë§Œë“¤ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. TickerProviderStateMixinì˜ ì¤‘ìš”ì„±ê³¼ íš¨ìœ¨ì ì¸ ì• ë‹ˆë©”ì´ì…˜ ê´€ë¦¬ë²•ì„ ì²´ë“í–ˆìŠµë‹ˆë‹¤! ğŸ²