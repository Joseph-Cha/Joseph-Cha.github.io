---
title: "📚 Today I Learned 13회차 - Flutter 동영상 플레이어"
date: 2025-09-29T00:00:00-00:00
categories:
  - TIL
  - Flutter
tags:

---

ㅁ 학습 목표

동영상 플레이어 앱을 구현합니다. 핸드폰에 저장해둔 동영상을 선택하고 실행하고 컨드롤 하는 기능을 구현합니다.

ㅁ 학습 순서

사전 지식: 
* 화면 회전
* 시간 변환 및 String 패딩

사전 준비
* 가상 단말에 동영상 추가
* 이미지 추가
* pubspec.yaml
* 네이티브 설정
* 프로젝트 초기화

구현하기
* 첫 화면
* 배경색 그라데이션
* 파일 선택 기능
* 플레이 화면
* 동영상 재생기
* 동영상 연동
* 동영상 컨트롤 버튼
* 컨트롤러 감추기
* 타임스탬프 추가

## 사전 지식

### 시간 변환 및 String 패딩

Duration의 경우 기간을 표시해 주는 클래스인데, video_player 플러그인을 사용하면서 현재 실행되고 있는 영상의 위치, 영상의 총 길이 등을 Duration 클래스로 반환 받게 됩니다.
하지만 실제 사용자가 좋아하는 데이터 타입이 아니기 때문에, 보기 좋은 String 값으로 바꿔주면 좋습니다.

```dart
Duration duration = Duration(seconds: 192);
print(duration); // 0:03:12.000000
print(
  '${duration.inMinutes.toString().padLeft(2, '0')}:${(duration.inSeconds % 60).toString().padLeft(2, '0')}',
); // 03:12
```

* inMinutes 게터는 분 단위 시간을 가져옵니다.
* inSeconds 겟터는 초 단위 시간을 가져오는 초 단위 시간은 분의 몫으로 넘어간 값을 제외한 나머지 값만 보여주면 됩니다.
* String 클래스에는 padLeft와 padRight 함수가 존재하는데 pad 함수들은 String 길이를 맞춰주는 역할을 합ㄴ디ㅏ.
  * 최소 길이를 입력하고 길이가 부족한 경우 두번째 매개변수에 들어간 값을 채워 넣습니다.

### 배경색 그라데이션 구현하기

BoxDecoration 클래스를 사용하면 Container 위젯의 배경색, 테두리, 모서리 둥근 정도 등 전반적인 디자인을 변경할 수 있습니다.

### 동영상 재생기 구현하기

* AspectRatio는 child 매개변수에 입력되는 위젯의 비율을 정할 수 있는 위젯이다.
* aspectRatio 매개변수에 원하는 비율을 입력할 수 있다.
* 비율은 **너비/높이**로 입력하면 되며 16:9 비율을 입력하고 싶을 때는 16/9를 입력하면 됩니다.
* VideoPlayerController를 선언하면 입력된 동영상의 비율을 value.aspectRatio 게터로 받아올 수 있으니 직접 넣어줬다.

VideoPlayerController의 네임드 생성자

| 생성자 이름 | 설명 |
| -- | --- |
| VideoPlayerController.asset | |
| VideoPlayerController.network | |
| VideoPlayerController.file | |

### Slider 위젯 동영상과 연동하기

* Stack 위젯은 기본적으로 children 위젯들을 정중앙에 위치시킵니다.
* 만약 Stack내부의 특정 위치에 위젯을 위치시키고 싶다면 Positioned 위젯을 사용해서 위치를 정할 수 있다.
* bottom:0 -> Stack의 가장 아래에 자식을 위치
* 왼쪽과 오른족 끝까지 Slider 위젯이 늘어나게 하려고 left와 right 매개변수 모두에 0 값을 주면 왼쪽부터 0픽셀 그리고 오른쪽부터 0픽셀까지 위치 시키라는 의미가 되므로 Slider 위젯을 가로 전체로 늘릴 수 있습니다.
* Slider 위젯의 min 값은 항상 0입니다(0초부터 시작을 해야하기 때문에).
* 최댓값은 동영상의 재싱 길이를 초단위로 변환하면 됩니다.

* videoPlayerController.seekTo 함수는 동영상의 재생 위치를 특정 위치로 이동해 줍니다.
* videoPlayerController!.value.position.inSeconds 게터를 실행하면 현재 동영상이 실행되는 위치 값을 받을 수 있습니다.